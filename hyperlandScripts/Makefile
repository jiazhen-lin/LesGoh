GOERLI_INTERCHAIN_ACCOUNT_ROUTER=0x55486284a85d7b51a7bBfd343702414D65276fa6
GOERLI_IGP=0x8f9C3888bFC8a5B25AED115A82eCbb788b196d2a
# OP GOERLI
DESTINATION=420
# MUMBAI
# DESTINATION=80001
# ARB GOERLI
# DESTINATION=421613
RECIPIENT=0x36FdA966CfffF8a9Cdc814f546db0e6378bFef35
# calldata: "fooBar(uint256,string)" 1 "FXXK"
CALLDATA=0xf07c1f4700000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000001648656c6c6f576f726c642066726f6d20616e2049434100000000000000000000
RPC_URL=https://ethereum-goerli.publicnode.com		
PRIVATE_KEY=3f65e43afa4731c92c9570728ef74836ab2fb40ce03adb69ad3e214498feb7a0
MY_ADDRESS=0x3C127Be7c30e4f0c863047ca566684d66a264893


send:
	cast send ${GOERLI_INTERCHAIN_ACCOUNT_ROUTER} \
'callRemote(uint32,address,uint256,bytes)' \
${DESTINATION} ${RECIPIENT} 1 ${CALLDATA} \
--rpc-url ${RPC_URL} --private-key ${PRIVATE_KEY}

qoute:
	cast call ${GOERLI_IGP} "quoteGasPayment(uint32,uint256)" ${DESTINATION} 550000 --rpc-url ${RPC_URL}

GAS_PAYMENT_QUOTE=0x00000000000000000000000000000000000000000000000000014524f481d800
MESSAGE_ID=0xd3cf81def9bd2d01e26d3773c0ab98cbef7364783a8c71026a1cb7e9773dd5f3
GAS_AMOUNT=550000

pay:
	cast send ${GOERLI_IGP} "payForGas(bytes32,uint32,uint256,address)" \
${MESSAGE_ID} ${DESTINATION} ${GAS_AMOUNT} ${MY_ADDRESS} --rpc-url ${RPC_URL} \
--private-key ${PRIVATE_KEY} --value ${GAS_PAYMENT_QUOTE}